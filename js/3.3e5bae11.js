webpackJsonp([3],{607:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(627),s=a(r),o=n(634),c=a(o),d=n(99),f=a(d),h=n(42),p=a(h),m=n(300),y=a(m),g=n(100),v=a(g),b=n(56),k=a(b),E=n(660),C=a(E),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(628),n(635),n(101),n(43),n(299),n(102),n(57),n(662);var I=n(1),_=a(I),O=n(740),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(O),w=n(626),A=a(w);n(966);var x=function(e){function t(e){i(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={columns:[{title:"用户昵称",dataIndex:"nickName",key:"nickName"},{title:"用户手机号",dataIndex:"mobile",key:"mobile"},{title:"性别",dataIndex:"sex",key:"sex"},{title:"注册时间",dataIndex:"registryTime",key:"registryTime"},{title:"途正贝",dataIndex:"coinBalance",key:"coinBalance"},{title:"操作",key:"action",render:function(e,t,a){return _.default.createElement("span",null,_.default.createElement("a",{onClick:function(){return n.addCourse(e,t,a)}},"发放课程"),_.default.createElement(C.default,{type:"vertical"}),_.default.createElement("a",{onClick:function(){return n.addTzb(e,t,a)}},"发放途正贝"))}}],pagination:{},loading:!1,userList:[],inputValue:"",page:1,totalCount:0,visible:!1,infoMsg:"hehe",coinAddAmount:"",userId:"",courseModalVisible:!1},n}return l(t,e),L(t,[{key:"componentDidMount",value:function(){this.getUserList()}},{key:"getUserList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;this.setState({loading:!0}),e.page=this.state.page,S.getUserList(e).then(function(e){if(200==e.code){var n=t.state.pagination;n.total=e.data.totalCount,n.current=t.state.page,e.data.list.forEach(function(e){1==e.sex?e.sex="男":e.sex="女"}),t.setState({userList:e.data.list,pagination:n,loading:!1})}else k.default.destroy()})}},{key:"handleCommentChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"searchCourse",value:function(){var e=this,t=this.state.inputValue.trim();this.setState({page:1},function(){e.getUserList({mobile:t})})}},{key:"resetUserList",value:function(){var e=this;this.getUserList({}),this.setState({inputValue:"",page:1},function(){e.getUserList({})})}},{key:"getPages",value:function(e){var t=this;this.setState({page:e.current,loading:!0},function(){t.getUserList()})}},{key:"addCourse",value:function(e,t,n){var a={source:"userList",nickName:t.nickName,userId:t.userId},i={pathname:"/selectCourse",state:a};this.props.history.push(i)}},{key:"addTzb",value:function(e,t,n){this.setState({visible:!0,userId:t.userId})}},{key:"tzbInputChange",value:function(e){this.setState({coinAddAmount:e.target.value})}},{key:"handleOk",value:function(){var e=this,t={userId:this.state.userId,coinAddAmount:this.state.coinAddAmount};S.addTzb(t).then(function(t){200==t.data.code&&(e.setState({coinAddAmount:""}),k.default.success("发放成功"),e.getUserList())}),this.setState({visible:!1})}},{key:"handleCancel",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this;return _.default.createElement("div",null,_.default.createElement(A.default,{title:"用户列表"}),_.default.createElement("div",{className:"userList-wrap"},_.default.createElement(f.default,null,_.default.createElement(v.default,{span:9}),_.default.createElement(v.default,{span:2},"用户查询:"),_.default.createElement(v.default,{span:8},_.default.createElement(y.default,{placeholder:"请输入手机号",type:"tel",value:this.state.inputValue,onChange:this.handleCommentChange.bind(this)})),_.default.createElement(v.default,{span:2,style:{marginLeft:15}},_.default.createElement(p.default,{type:"primary",onClick:function(t){return e.searchCourse(t)}},"查询")),_.default.createElement(v.default,{span:2},_.default.createElement(p.default,{type:"default",onClick:function(t){return e.resetUserList(t)}},"重置"))),_.default.createElement(f.default,{style:{marginTop:20}},_.default.createElement(c.default,{columns:this.state.columns,rowKey:function(e){return e.userId},dataSource:this.state.userList,pagination:this.state.pagination,onChange:this.getPages.bind(this),loading:this.state.loading})),_.default.createElement(s.default,{title:"发放途正贝",visible:this.state.visible,footer:[_.default.createElement(p.default,{key:"back",onClick:function(){return e.handleCancel()}},"取消"),_.default.createElement(p.default,{key:"submit",type:"primary",onClick:function(){return e.handleOk()}},"确定")]},_.default.createElement("p",null,_.default.createElement(y.default,{placeholder:"请输入发放途正贝的数目",type:"tel",value:this.state.coinAddAmount,onChange:function(t){return e.tzbInputChange(t)}})))))}}]),t}(_.default.Component);t.default=x},966:function(e,t){}});