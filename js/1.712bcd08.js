webpackJsonp([1],{608:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(634),i=n(s),o=a(42),d=n(o),c=a(99),f=n(c),p=a(300),h=n(p),m=a(100),g=n(m),y=a(652),v=n(y),C=a(629),E=n(C),T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(635),a(43),a(101),a(299),a(102),a(653),a(631);var k=a(1),I=n(k),S=a(0),O=n(S),b=a(626),L=n(b),w=a(996),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w);a(997);var M=E.default.Option,x=v.default.RangePicker,D=function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={columns:[{title:"商品名称",dataIndex:"courseTitle",key:"courseTitle"},{title:"订单时间",dataIndex:"updateTime",key:"updateTime"},{title:"订单类型",dataIndex:"payChannel",key:"payChannel",render:function(e){return 1===e?"微信支付":2==e?"苹果支付":void 0}},{title:"订单状态",dataIndex:"status",key:"status",render:function(e){return 1===e?"预支付":"已下单"}},{title:"订单金额（元）",dataIndex:"payAmount",key:"payAmount"},{title:"买家昵称",dataIndex:"nickName",key:"nickName"},{title:"买家手机",dataIndex:"mobile",key:"mobile",render:function(e){return null===e?"-":e}}],orderList:[],dateData:[],orderSelect:"请选择",orderTypeSelect:"请选择",orderTotal:0,totalCount:0,page:0,limit:10,loading:!0,courseTitle:null,nickName:null,transactionId:null,orderId:null,status:null,startTime:null,endTime:null,payChannel:null},a}return u(t,e),T(t,[{key:"componentDidMount",value:function(){this._getOrderList()}},{key:"_getOrderList",value:function(){var e=this,t={page:0,limit:10};_.getOrderList(t).then(function(t){e.setState({orderList:t.data.pages.list,orderTotal:t.data.totalMoney,totalCount:t.data.pages.totalCount,loading:!1})})}},{key:"courseTitleChangeValue",value:function(e){this.setState({courseTitle:e.target.value})}},{key:"nickNameChangeValue",value:function(e){this.setState({nickName:e.target.value})}},{key:"transactionIdChangeValue",value:function(e){this.setState({transactionId:e.target.value})}},{key:"orderIdChangeValue",value:function(e){this.setState({orderId:e.target.value})}},{key:"onDateChange",value:function(e,t){this.setState({dateData:[(0,O.default)(t[0],"YYYY/MM/DD"),(0,O.default)(t[1],"YYYY/MM/DD")],startTime:t[0],endTime:t[1]})}},{key:"selsectOrderStateChange",value:function(e){"1"===e?this.setState({status:parseInt(e),orderSelect:"预支付"}):"2"===e&&this.setState({status:parseInt(e),orderSelect:"已支付"})}},{key:"selsectOrderTypeChange",value:function(e){"1"===e?this.setState({payChannel:parseInt(e),orderTypeSelect:"微信支付"}):"2"===e&&this.setState({payChannel:parseInt(e),orderTypeSelect:"苹果支付"})}},{key:"searchOrderList",value:function(){var e=this,t={courseTitle:this.state.courseTitle,nickName:this.state.nickName,orderId:this.state.orderId,transactionId:this.state.transactionId,startTime:this.state.startTime,endTime:this.state.endTime,status:this.state.status,payChannel:this.state.payChannel,limit:10,page:1};this.setState({loading:!0}),_.getOrderList(t).then(function(t){e.setState({orderList:t.data.pages.list,orderTotal:t.data.totalMoney,totalCount:t.data.pages.totalCount,loading:!1})})}},{key:"resetOrderList",value:function(){var e=this;this.setState({loading:!0}),_.getOrderList({}).then(function(t){e.setState({orderList:t.data.pages.list,orderTotal:t.data.totalMoney,totalCount:t.data.pages.totalCount,loading:!1,courseTitle:"",nickName:"",transactionId:"",orderId:"",dateData:[],orderSelect:"请选择",status:"",orderTypeSelect:"请选择",payChannel:""})})}},{key:"pageChange",value:function(e){var t=this;this.setState({page:e,loading:!0},function(){var e={courseTitle:t.state.courseTitle,nickName:t.state.nickName,orderId:t.state.orderId,transactionId:t.state.transactionId,startTime:t.state.startTime,endTime:t.state.endTime,status:t.state.status,payChannel:t.state.payChannel,limit:10,page:t.state.page};_.getOrderList(e).then(function(e){t.setState({orderList:e.data.pages.list,orderTotal:e.data.totalMoney,totalCount:e.data.pages.totalCount,loading:!1})})})}},{key:"render",value:function(){var e=this;return I.default.createElement("div",null,I.default.createElement(L.default,{title:"订单列表"}),I.default.createElement("div",{className:"orderList-wrap"},I.default.createElement(f.default,null,I.default.createElement(g.default,{span:2},"商品名称："),I.default.createElement(g.default,{span:4},I.default.createElement(h.default,{style:{width:"150px"},placeholder:"请输入商品名称",value:this.state.courseTitle,onChange:function(t){return e.courseTitleChangeValue(t)}})),I.default.createElement(g.default,{span:2},"用户昵称："),I.default.createElement(g.default,{span:4},I.default.createElement(h.default,{style:{width:"150px"},placeholder:"请输入用户昵称",value:this.state.nickName,onChange:function(t){return e.nickNameChangeValue(t)}})),I.default.createElement(g.default,{span:2},"交易单号："),I.default.createElement(g.default,{span:4},I.default.createElement(h.default,{style:{width:"150px"},placeholder:"请输入交易单号",value:this.state.transactionId,onChange:function(t){return e.transactionIdChangeValue(t)}})),I.default.createElement(g.default,{span:2},"订单号："),I.default.createElement(g.default,{span:4},I.default.createElement(h.default,{style:{width:"150px"},placeholder:"请输入订单号",value:this.state.orderId,onChange:function(t){return e.orderIdChangeValue(t)}}))),I.default.createElement(f.default,{style:{marginTop:20}},I.default.createElement(g.default,{span:8},I.default.createElement("span",{style:{marginRight:20}},"订单时间:"),I.default.createElement(x,{onChange:function(t,a){return e.onDateChange(t,a)},style:{width:"240px"},placeholder:["开始时间","结束时间"],value:this.state.dateData,format:"YYYY/MM/DD"})),I.default.createElement(g.default,{span:5},I.default.createElement("span",{style:{marginRight:20}},"订单状态:"),I.default.createElement(E.default,{value:this.state.orderSelect,style:{width:120},onChange:function(t){return e.selsectOrderStateChange(t)}},I.default.createElement(M,{value:"1"},"预支付"),I.default.createElement(M,{value:"2"},"已支付"))),I.default.createElement(g.default,{span:5},I.default.createElement("span",{style:{marginRight:20}},"订单类型:"),I.default.createElement(E.default,{value:this.state.orderTypeSelect,style:{width:120},onChange:function(t){return e.selsectOrderTypeChange(t)}},I.default.createElement(M,{value:"1"},"微信支付"),I.default.createElement(M,{value:"2"},"苹果支付"))),I.default.createElement(g.default,{span:2,style:{marginLeft:70}},I.default.createElement(d.default,{type:"primary",onClick:function(){return e.searchOrderList()}},"查询")),I.default.createElement(g.default,{span:2},I.default.createElement(d.default,{type:"default",onClick:function(){return e.resetOrderList()}},"重置"))),I.default.createElement(f.default,{style:{marginTop:20}}),I.default.createElement(f.default,{style:{marginTop:20}},I.default.createElement(g.default,{span:14}),I.default.createElement(g.default,{span:2},"查询结果："),I.default.createElement(g.default,{span:3},"查询总数：",I.default.createElement("b",null,this.state.totalCount)),I.default.createElement(g.default,{span:4},"订单总金额：",I.default.createElement("b",null,this.state.orderTotal),"元")),I.default.createElement(f.default,{style:{marginTop:25}},I.default.createElement(i.default,{columns:this.state.columns,rowKey:function(e,t){return t},dataSource:this.state.orderList,loading:this.state.loading,pagination:{defaultPageSize:this.state.limit,current:this.state.page,total:this.state.totalCount,onChange:this.pageChange.bind(this)}}))))}}]),t}(I.default.Component);t.default=D},996:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderList=void 0;var n=a(301);t.getOrderList=function(e){return(0,n.post)("/admin/courseorder/list",e)}},997:function(e,t){}});